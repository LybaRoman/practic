{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin_\\\\Desktop\\\\f\\\\my-app\\\\src\\\\components\\\\UserList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport UserItem from './UserItem/UserItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserList = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [curentUser, setCurentUser] = useState(null);\n  useEffect(() => {\n    const savedUsers = localStorage.getItem('users');\n    if (savedUsers) {\n      setUsers(JSON.parse(savedUsers));\n    } else {\n      fetch('https://dummyjson.com/users').then(res => res.json()).then(data => {\n        setUsers(data.users);\n        localStorage.setItem('users', JSON.stringify(data.users));\n      }).catch(error => console.error('Помилка:', error));\n    }\n  }, []);\n  const updateLocalStorage = users => {\n    localStorage.setItem('users', JSON.stringify(users));\n  };\n  function dragStartHandler(e, user) {\n    setCurentUser(user);\n  }\n  function dragOverHandler(e) {\n    e.preventDefault();\n  }\n  function dropHandler(e, user) {\n    e.preventDefault();\n    if (curentUser) {\n      const updatedUsers = users.map(c => {\n        if (c.id === user.id) {\n          return {\n            ...c,\n            id: curentUser.id\n          };\n        }\n        if (c.id === curentUser.id) {\n          return {\n            ...c,\n            id: user.id\n          };\n        }\n        return c;\n      });\n      setUsers(updatedUsers);\n      updateLocalStorage(updatedUsers);\n    }\n  }\n  const sortUsers = (a, b) => {\n    return a.id > b.id ? 1 : -1;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col justify-center w-[500px] border border-black mx-auto rounded-lg p-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"pt-5 pb-8 text-3xl text-center\",\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.sort(sortUsers).map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(UserItem, {\n          user: user,\n          onDragStart: dragStartHandler,\n          onDragOver: dragOverHandler,\n          onDrop: dropHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n_s(UserList, \"+l9u/5ByGDLx4hRSdkkyFjYoqHA=\");\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useEffect","useState","UserItem","jsxDEV","_jsxDEV","UserList","_s","users","setUsers","curentUser","setCurentUser","savedUsers","localStorage","getItem","JSON","parse","fetch","then","res","json","data","setItem","stringify","catch","error","console","updateLocalStorage","dragStartHandler","e","user","dragOverHandler","preventDefault","dropHandler","updatedUsers","map","c","id","sortUsers","a","b","className","children","fileName","_jsxFileName","lineNumber","columnNumber","sort","onDragStart","onDragOver","onDrop","_c","$RefreshReg$"],"sources":["C:/Users/Admin_/Desktop/f/my-app/src/components/UserList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport UserItem from './UserItem/UserItem';\r\n\r\ninterface User {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    age: number;\r\n}\r\n\r\nconst UserList: React.FC = () => {\r\n    const [users, setUsers] = useState<User[]>([]);\r\n    const [curentUser, setCurentUser] = useState<User | null>(null);\r\n\r\n    useEffect(() => {\r\n        const savedUsers = localStorage.getItem('users');\r\n        if (savedUsers) {\r\n            setUsers(JSON.parse(savedUsers));\r\n        } else {\r\n            fetch('https://dummyjson.com/users')\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    setUsers(data.users as User[]);\r\n                    localStorage.setItem('users', JSON.stringify(data.users)); \r\n                })\r\n                .catch(error => console.error('Помилка:', error));\r\n        }\r\n    }, []);\r\n    const updateLocalStorage = (users: User[]) => {\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n    };\r\n\r\n    function dragStartHandler(e: React.DragEvent<HTMLDivElement>, user: User) {\r\n        setCurentUser(user);\r\n    }\r\n\r\n    function dragOverHandler(e: React.DragEvent<HTMLDivElement>) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    function dropHandler(e: React.DragEvent<HTMLDivElement>, user: User) {\r\n        e.preventDefault();\r\n        if (curentUser) {\r\n            const updatedUsers = users.map(c => {\r\n                if (c.id === user.id) {\r\n                    return { ...c, id: curentUser.id };\r\n                }\r\n                if (c.id === curentUser.id) {\r\n                    return { ...c, id: user.id };\r\n                }\r\n                return c;\r\n            });\r\n            setUsers(updatedUsers);\r\n            updateLocalStorage(updatedUsers);\r\n        }\r\n    }\r\n\r\n    const sortUsers = (a: User, b: User) => {\r\n        return a.id > b.id ? 1 : -1;\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col justify-center w-[500px] border border-black mx-auto rounded-lg p-5\">\r\n            <h1 className='pt-5 pb-8 text-3xl text-center'>Users</h1>\r\n            <ul>\r\n                {users.sort(sortUsers).map((user) => (\r\n                    <li key={user.id}>\r\n                        <UserItem\r\n                            user={user}\r\n                            onDragStart={dragStartHandler}\r\n                            onDragOver={dragOverHandler}\r\n                            onDrop={dropHandler}\r\n                        />\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}